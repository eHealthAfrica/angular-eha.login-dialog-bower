!function(){"use strict";var a=angular.module("eha.login-dialog",["eha.login-dialog.service","eha.login-dialog.controller"]);"undefined"!=typeof module&&module.exports&&(module.exports=a)}(),function(){"use strict";var a=angular.module("eha.login-dialog.controller",[]);a.controller("EhaLoginDialogController",["$scope","$modalInstance","modalParams","ehaLoginService",function(a,b,c,d){a.headerMessage=angular.isArray(c.title)?"":c.title,a.headerMessage2=c.title,a.bodyMessage=c.bodyText,a.confirmBtnMsg=c.buttonLabels.YES,a.cancelBtnMsg=c.buttonLabels.NO,a.confirm=b.close,a.cancel=b.dismiss,a.wrongPasskey=!1,a.dismissMessage="Cancel confirm dialog",a.online=!0,a.authenticate=function(c,e){return a.wrongPasskey=!1,a.isAuthenticating=!0,a.cannotReachServer=!1,c&&e?d.login(c,e).then(b.close)["catch"](function(b){401===b.status?a.wrongPasskey=!0:a.cannotReachServer=!0,console.log("error",b)})["finally"](function(){a.isAuthenticating=!1}):(a.wrongPasskey=!0,void(a.isAuthenticating=!1))},console.log(a.cannotReachServer),a.cancel=function(){b.dismiss("cancelled")}}]),"undefined"!=typeof module&&module.exports&&(module.exports=a)}(),function(){"use strict";var a=angular.module("eha.login-dialog.service",[]);a.service("ehaLoginDialogService",["$q","$log","$modal","gettextCatalog",function(a,b,c,d){var e;return function(){if(e)return e;var a=[d.getString("yes"),d.getString("no")],b=c.open({templateUrl:"templates/login-dialog.template.tpl.html",backdrop:"static",keyboard:!1,resolve:{modalParams:["$q",function(b){return b.when({buttonLabels:{YES:a[0],NO:a[1]}})}]},controller:"EhaLoginDialogController"});return e=b.result,b.result["finally"](function(){e=null}),b.result}}]),"undefined"!=typeof module&&module.exports&&(module.exports=a)}();